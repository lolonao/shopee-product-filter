コードカバレッジを改善し、信頼性を確保するための単体テストを作成する。

## 単体テストチェックリスト

### 1. テスト対象の特定
- [ ] 未テストの関数を見つけるためにカバレッジレポートを実行する
- [ ] テストする特定の関数/メソッドをリストアップする
- [ ] 現在のカバレッジ率を記録する

### 2. テストの作成
- [ ] ハッピーパス（期待される動作）をテストする
- [ ] エッジケース（空の入力、境界値）をテストする
- [ ] エラーケース（無効な入力、例外）をテストする
- [ ] 外部依存関係をモック化する
- [ ] 説明的なテスト名を使用する

### 3. テストの品質
- [ ] 各テストは1つの動作に焦点を当てる
- [ ] テストは独立して実行できる
- [ ] 変更される可能性のあるハードコードされた値を含まない
- [ ] 動作を検証する明確なアサーション

## カバーすべき例:
- 通常の入力 → 期待される出力
- 空/nullの入力 → 適切な処理
- 無効な入力 → エラーケース
- 境界値 → エッジケースの動作

## 目標
対象コンポーネントで少なくとも80%のカバレッジを達成する

## 成果物
1. 包括的な単体テストを含む新しいテストファイル
2. 更新されたカバレッジレポート
3. すべてのテストがパスすること